name: main
on: 
  push: { branches: [main] }

jobs:
  get-runner:
   #name get a runner for this workflow;
   if: ${{ always() }}
   runs-on: self-hosted
   outputs:
     RUNNER: ${{ runner.name }}
   steps:
     - run: echo "selected runner = ${{ runner.name }}"

  other-job:
    name: another job
    needs: get-runner
    runs-on: ${{needs.get-runner.outputs.RUNNER}}
    steps:
      - run : echo "same runner"
